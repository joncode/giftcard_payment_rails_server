class Client::V3::CitiesController < MetalController



    def index
        success Region.city.map(&:old_city_json)
        respond
    end

    def merchants
        providers = Provider.where(region_id: params[:id])
        success providers.serialize_objs(:client)
        respond
    end




end


# Processing by Client::V3::CitiesController#index as JSON
#  #<ActionDispatch::Http::Headers:0x007f2e0ebdb990 @env={"REMOTE_ADDR"=>"10.226.67.253", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/client/v3/cities", "PATH_INFO"=>"/client/v3/cities", "REQUEST_URI"=>"/client/v3/cities", "SERVER_PROTOCOL"=>"HTTP/1.1", "HTTP_VERSION"=>"HTTP/1.1", "HTTP_X_REQUEST_START"=>"1402691050921", "HTTP_X_REQUEST_ID"=>"c3cf74f8-6472-480c-963f-e8b319fbaa0d", "HTTP_X_FORWARDED_PROTO"=>"https", "HTTP_X_FORWARDED_PORT"=>"443", "HTTP_X_FORWARDED_FOR"=>"108.54.99.30", "HTTP_X_AUTH_TOKEN"=>"FAKE-TOKEN", "HTTP_USER_AGENT"=>"drinkboard/2.0 (iPhone Simulator; iOS 7.0.3; Scale/2.00)", "HTTP_IF_NONE_MATCH"=>"\"7fe1e2ffbc0082ea02953d03ff3648cb\"", "HTTP_HOST"=>"dbappdev.herokuapp.com", "HTTP_CONNECTION"=>"close", "HTTP_ACCEPT_LANGUAGE"=>"en;q=1, fr;q=0.9, de;q=0.8, zh-Hans;q=0.7, zh-Hant;q=0.6, ja;q=0.5", "HTTP_ACCEPT_ENCODING"=>"gzip, deflate", "HTTP_ACCEPT"=>"*/*", "rack.url_scheme"=>"https", "SERVER_NAME"=>"dbappdev.herokuapp.com", "SERVER_PORT"=>"443", "QUERY_STRING"=>"", "rack.input"=>#<StringIO:0x007f2e0b5daaf8>, "rack.hijack"=>#<Proc:0x007f2e0f12ca48@/app/vendor/bundle/ruby/2.1.0/gems/unicorn-4.8.2/lib/unicorn/http_request.rb:111>, "rack.errors"=>#<IO:<STDERR>>, "rack.multiprocess"=>true, "rack.multithread"=>false, "rack.run_once"=>false, "rack.version"=>[1, 2], "SCRIPT_NAME"=>"", "SERVER_SOFTWARE"=>"Unicorn 4.8.2", "rack.hijack?"=>true, "rack.logger"=>#<Logger:0x007f2e0c1c92b0 @progname=nil, @level=0, @default_formatter=#<Logger::Formatter:0x007f2e0c1c9210 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x007f2e0c1c91c0 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<IO:<STDERR>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x007f2e0c1c9198 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x007f2e0c1c90a8>>>>, "ORIGINAL_FULLPATH"=>"/client/v3/cities", "ORIGINAL_SCRIPT_NAME"=>"", "action_dispatch.routes"=>#<ActionDispatch::Routing::RouteSet:0x007f2e0bf2d308>, "action_dispatch.parameter_filter"=>[:password, :password_confirmation, :password_digest, :token, :remember_token, :merchant_token, :merchant_tkn, :uid, :credit_number, :card_number, :verification_value, :confirm_email_token, :confirm_phone_token], "action_dispatch.redirect_filter"=>[], "action_dispatch.secret_token"=>nil, "action_dispatch.secret_key_base"=>"9f340646018c80cad20f4130706abbf1b088ba457ee3d7e421e1f97d1958166bcede291ac74e4d8ff388b2783c27c894e25ef0d55ba6e816bc208ce89879dab2", "action_dispatch.show_exceptions"=>true, "action_dispatch.show_detailed_exceptions"=>false, "action_dispatch.logger"=>#<Logger:0x007f2e0d8d2808 @progname=nil, @level=0, @default_formatter=#<Logger::Formatter:0x007f2e0d8d27e0 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x007f2e0d8d26c8 @datetime_format=nil>, @logdev=#<Logger::LogDevice:0x007f2e0d8d2768 @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<IO:<STDOUT>>, @mutex=#<Logger::LogDevice::LogDeviceMutex:0x007f2e0d8d2740 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x007f2e0d8d26f0>>>>, "action_dispatch.backtrace_cleaner"=>#<Rails::BacktraceCleaner:0x007f2e0f116ea0 @filters=[#<Proc:0x007f2e0f116dd8@/app/vendor/bundle/ruby/2.1.0/gems/railties-4.1.0/lib/rails/backtrace_cleaner.rb:10>, #<Proc:0x007f2e0f116db0@/app/vendor/bundle/ruby/2.1.0/gems/railties-4.1.0/lib/rails/backtrace_cleaner.rb:11>, #<Proc:0x007f2e0f116d60@/app/vendor/bundle/ruby/2.1.0/gems/railties-4.1.0/lib/rails/backtrace_cleaner.rb:12>, #<Proc:0x007f2e0f116108@/app/vendor/bundle/ruby/2.1.0/gems/railties-4.1.0/lib/rails/backtrace_cleaner.rb:24>], @silencers=[#<Proc:0x007f2e0f1160e0@/app/vendor/bundle/ruby/2.1.0/gems/railties-4.1.0/lib/rails/backtrace_cleaner.rb:15>]>, "action_dispatch.key_generator"=>#<ActiveSupport::CachingKeyGenerator:0x007f2e0f115e10 @key_generator=#<ActiveSupport::KeyGenerator:0x007f2e0f115e38 @secret="9f340646018c80cad20f4130706abbf1b088ba457ee3d7e421e1f97d1958166bcede291ac74e4d8ff388b2783c27c894e25ef0d55ba6e816bc208ce89879dab2", @iterations=1000>, @cache_keys=#<ThreadSafe::Cache:0x007f2e0f115de8 @backend={}, @default_proc=nil>>, "action_dispatch.http_auth_salt"=>"http authentication", "action_dispatch.signed_cookie_salt"=>"signed cookie", "action_dispatch.encrypted_cookie_salt"=>"encrypted cookie", "action_dispatch.encrypted_signed_cookie_salt"=>"signed encrypted cookie", "action_dispatch.cookies_serializer"=>nil, "ROUTES_69917872843140_SCRIPT_NAME"=>"", "action_dispatch.request_id"=>"c3cf74f8-6472-480c-963f-e8b319fbaa0d", "action_dispatch.remote_ip"=>#<ActionDispatch::RemoteIp::GetIp:0x007f2e0f114010 @env={...}, @check_ip=true, @proxies=/
#       ^127\.0\.0\.1$                | # localhost IPv4
#       ^::1$                         | # localhost IPv6
#       ^fc00:                        | # private IPv6 range fc00
#       ^10\.                         | # private IPv4 range 10.x.x.x
#       ^172\.(1[6-9]|2[0-9]|3[0-1])\.| # private IPv4 range 172.16.0.0 .. 172.31.255.255
#       ^192\.168\.                     # private IPv4 range 192.168.x.x
#     /x>, "rack.session"=>#<ActionDispatch::Request::Session:0x7f2e0ee20cf0 not yet loaded>, "rack.session.options"=>#<ActionDispatch::Request::Session::Options:0x007f2e0ee20bb0 @by=#<ActionDispatch::Session::CookieStore:0x007f2e0ea9d7b8 @app=#<ActionDispatch::Flash:0x007f2e0ea9d7e0 @app=#<ActionDispatch::ParamsParser:0x007f2e0ea9d8f8 @app=#<Rack::Head:0x007f2e0ea9d920 @app=#<Rack::ConditionalGet:0x007f2e0ea9d948 @app=#<Rack::ETag:0x007f2e0ea9d998 @app=#<ActionDispatch::Routing::RouteSet:0x007f2e0bf2d308>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>, @parsers={#<Mime::Type:0x007f2e0d2b3698 @synonyms=["text/x-json", "application/jsonrequest"], @symbol=:json, @string="application/json">=>:json}>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_drinkboard_session", @cookie_only=true>, @env={...}, @delegate={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}>, "action_dispatch.request.path_parameters"=>{:format=>"json", :action=>"index", :controller=>"client/v3/cities"}, "action_controller.instance"=>#<Client::V3::CitiesController:0x007f2e0ec27d90 @_action_has_layout=true, @_routes=nil, @_headers={"Content-Type"=>"text/html"}, @_status=200, @_request=#<ActionDispatch::Request:0x007f2e0ec27c78 @env={...}, @symbolized_path_params=nil, @filtered_parameters={"format"=>"json", "action"=>"index", "controller"=>"client/v3/cities"}, @filtered_env=nil, @filtered_path=nil, @protocol=nil, @port=nil, @method="GET", @request_method=nil, @remote_ip=nil, @original_fullpath=nil, @fullpath="/client/v3/cities", @ip=nil, @uuid=nil>, @_response=#<ActionDispatch::Response:0x007f2e0ec27c28 @mon_owner=nil, @mon_count=0, @mon_mutex=#<Mutex:0x007f2e0ec27b38>, @stream=#<ActionDispatch::Response::Buffer:0x007f2e0ec279d0 @response=#<ActionDispatch::Response:0x007f2e0ec27c28 ...>, @buf=[], @closed=false>, @header={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff"}, @status=200, @sending_file=false, @blank=false, @cv=#<MonitorMixin::ConditionVariable:0x007f2e0ec27958 @monitor=#<ActionDispatch::Response:0x007f2e0ec27c28 ...>, @cond=#<Thread::ConditionVariable:0x007f2e0ec27908>>, @committed=false, @sending=false, @sent=false, @content_type=nil, @charset=nil, @cache_control={}, @etag=nil, @request=#<ActionDispatch::Request:0x007f2e0ec27c78 @env={...}, @symbolized_path_params=nil, @filtered_parameters={"format"=>"json", "action"=>"index", "controller"=>"client/v3/cities"}, @filtered_env=nil, @filtered_path=nil, @protocol=nil, @port=nil, @method="GET", @request_method=nil, @remote_ip=nil, @original_fullpath=nil, @fullpath="/client/v3/cities", @ip=nil, @uuid=nil>>, @_env={...}, @_prefixes=["client/v3/cities", "metal"], @_lookup_context=#<ActionView::LookupContext:0x007f2e0ec27390 @details_key=nil, @details={:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby]}, @skip_default_locale=false, @cache=true, @prefixes=["client/v3/cities", "metal"], @rendered_format=nil, @view_paths=#<ActionView::PathSet:0x007f2e0ec272c8 @paths=[#<ActionView::OptimizedFileSystemResolver:0x007f2e0ef5a8c8 @pattern=":prefix/:action{.:locale,}{.:formats,}{+:variants,}{.:handlers,}", @cache=#<ActionView::Resolver::Cache:0x007f2e0ef5a8a0 @data=#<ActionView::Resolver::Cache::SmallCache:0x007f2e0ef5a878 @backend={}, @default_proc=#<Proc:0x007f2e0edb5400@/app/vendor/bundle/ruby/2.1.0/gems/actionview-4.1.0/lib/action_view/template/resolver.rb:48 (lambda)>>>, @path="/app/app/views">]>>, @_action_name="index", @_response_body=nil, @_params={"format"=>"json", "action"=>"index", "controller"=>"client/v3/cities"}, @start_time_logger=2014-06-13 20:24:11 +0000>, "action_dispatch.request.content_type"=>nil, "action_dispatch.request.request_parameters"=>{}, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}, "action_dispatch.request.query_parameters"=>{}, "action_dispatch.request.parameters"=>{"format"=>"json", "action"=>"index", "controller"=>"client/v3/cities"}, "action_dispatch.request.formats"=>[#<Mime::Type:0x007f2e0d2b3698 @synonyms=["text/x-json", "application/jsonrequest"], @symbol=:json, @string="application/json">]}>